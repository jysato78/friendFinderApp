<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <!--<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">-->
     
      

      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  
    </head>

    <body>
      
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
      
    

       <div class="container">
    		<div class="jumbotron">
      			<center><h1><span class="glyphicon glyphicon-user" aria-hidden="true"></span>Friend Finder</h1></center>
    		</div>
 	   <div id="questions">
 	    <h2>Survey Questions</h2>
      <hr>

      <h3><strong>About You</strong></h3>
      <h4>Name (Required)</h4>
      <input type="text" name="" id="name" class="form-control" required >

      <h4>Link to Photo Image (Required)</h4>
      <input type="text" name="" id="photo" class="form-control" required >
    </div>

      

    <!-- The Modal -->
    <div id="myModal" class="modal">

    <!-- Modal content -->
    <div class="modal-content">
    <span class="close">&times;</span>
    <h2 id="bestMatch"></h2>
    <img id="bestPic">
    </div>

    </div>

     <style>
      .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

/* Modal Content/Box */
      .modal-content {
        background-color: #fefefe;
        margin: 15% auto; /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Could be more or less, depending on screen size */
        height: 80%;
      }

/* The Close Button */
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

      #questions {
        margin-left: 150px;
      }
      .row {
        margin-left: 150px;
      }
      .panel {
        margin-left: 150px;
      }
      .submitBtn {
        margin-top: 80px;
        
      }
     </style>

    <div class="panel">
      <h3><b>Question 1</b></h3>
      <h3>You like to go out and try different restaurants:</h3>
      <select data-placeholder="" class="chosen-select" id="q1">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      
      <h3><b>Question 2</b></h3>
      <h3>You enjoy hiking:</h3>
      <select data-placeholder="" class="chosen-select" id="q2">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 3</b></h3>
      <h3>You enjoy going to a caf√© to relax:</h3>
      <select data-placeholder="" class="chosen-select" id="q3">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 4</b></h3>
      <h3>You appreciate the city as well as the country:</h3>
      <select data-placeholder="" class="chosen-select" id="q4">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 5</b></h3>
      <h3>You like to go clubbing and bar hopping:</h3>
      <select data-placeholder="" class="chosen-select" id="q5">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 6</b></h3>
      <h3>You like to travel to exotic places:</h3>
      <select data-placeholder="" class="chosen-select" id="q6">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 7</b></h3>
      <h3>You enjoy cooking:</h3>
      <select data-placeholder="" class="chosen-select" id="q7">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 8</b></h3>
      <h3>You appreciate all kinds of music:</h3>
      <select data-placeholder="" class="chosen-select" id="q8">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 9</b></h3>
      <h3>You enjoy live shows:</h3>
      <select data-placeholder="" class="chosen-select" id="q9">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
      <h3><b>Question 10</b></h3>
      <h3>You are a homebody:</h3>
      <select data-placeholder="" class="chosen-select" id="q10">
            <option value="">Select an option</option>
            <option value="1">1 (Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5 (Strongly Agree)</option>
      </select>
    </div>
    <div class="submitBtn">
      <button type="button" class="btn btn-primary btn-block">Submit</button>
    </div>
    <div class='col s4'>
            <p><a href='/api/friends'>API Friends List</a> | <a href='https://github.com/jysato78/friend-finder' target='_blank'>GitHub Repo</a></p>
    </div>

<script>
  $(".submitBtn").on('click', function(){

    // prevent form from submitting
    event.preventDefault();
    if($("#name").val() === "" || $("#photo").val() === "") {
      alert("Please enter your name AND path to your picture");
    }
    else {
    var newFriend = {
          name: $("#name").val(),
          photo: $("#photo").val(),
          scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(),]
    }
        console.log("user: ",newFriend) ;

        //Grabs current URL of website
            var currentURL = window.location.origin;
            //AJAX posts the data to friends API.
            $.post(currentURL + "/api/friends", newFriend, function(data) {
                //Grab the result from the AJAX post so that the best match's name and photo are displayed.
                $("#bestMatch").text(data.name);
                $("#bestPic").attr("src", data.photo);
            });
            


       /* $.post("/api/friends", user)
        .done(function(data) {
        console.log(data);
        alert("Adding user...");
      });*/
        // Get the modal
    var modal = document.getElementById('myModal');

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal 
    
        modal.style.display = "block";
   

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }

  }
        
  });

</script>

</body>
</html>
        
